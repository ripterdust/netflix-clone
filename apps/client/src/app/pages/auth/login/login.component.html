<form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="form">
  <h1>Login</h1>

  <div
    [hidden]="loginForm.get('email')?.valid || loginForm.get('email')?.pristine"
  >
    @if (loginForm.get("email")?.errors?.["required"]) {
      <p-messages severity="warn">
        <ng-template pTemplate>Email field is required</ng-template>
      </p-messages>
    }

    @if (loginForm.get("email")?.errors?.["email"]) {
      <p-messages severity="warn">
        <ng-template pTemplate>
          The email field should be a valid email
        </ng-template>
      </p-messages>
    }
  </div>
  <label
    [hidden]="
      loginForm.get('password')?.valid || loginForm.get('password')?.pristine
    "
  >
    <p-messages severity="warn">
      <ng-template pTemplate>Password is required</ng-template>
    </p-messages>
  </label>

  <input type="email" pInputText formControlName="email" required />

  <p-password type="password" formControlName="password" />

  <p-button
    label="Login"
    type="ngSubmit"
    [disabled]="loginForm.invalid"
  ></p-button>
</form>
